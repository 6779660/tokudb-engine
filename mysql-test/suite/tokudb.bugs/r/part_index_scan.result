set default_storage_engine='tokudb';
drop table if exists t,t1,t2,t3;
CREATE TABLE `t` (
`num` int(10) unsigned auto_increment NOT NULL,
`val` varchar(32) DEFAULT NULL,
PRIMARY KEY (`num`)
);
INSERT INTO t values (null,null);
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
INSERT INTO t SELECT null,null FROM t;
SELECT count(*) FROM t;
count(*)
8388608
CREATE TABLE `t1` (
`num` int(10) unsigned NOT NULL,
`val` varchar(32) DEFAULT NULL,
PRIMARY KEY (`num`)
);
CREATE TABLE `t2` (
`num` int(10) unsigned NOT NULL,
`val` varchar(32) DEFAULT NULL,
PRIMARY KEY (`num`)
) 
PARTITION BY HASH (num) PARTITIONS 10;
CREATE TABLE `t3` (
`num` int(10) unsigned NOT NULL,
`val` varchar(32) DEFAULT NULL,
PRIMARY KEY (`num`)
)
PARTITION BY RANGE (num)
(PARTITION p0 VALUES LESS THAN (1000000),
PARTITION p1 VALUES LESS THAN (2000000),
PARTITION p2 VALUES LESS THAN (3000000),
PARTITION p3 VALUES LESS THAN (4000000),
PARTITION p4 VALUES LESS THAN (5000000),
PARTITION p5 VALUES LESS THAN (6000000),
PARTITION p6 VALUES LESS THAN (7000000),
PARTITION p7 VALUES LESS THAN (8000000),
PARTITION px VALUES LESS THAN MAXVALUE);
insert into t1 select * from t;
insert into t2 select * from t;
insert into t3 select * from t;
select count(*) from t1;
count(*)
8388608
select count(*) from t1;
count(*)
8388608
select count(*) from t1;
count(*)
8388608
select count(*) from t1;
count(*)
8388608
select count(*) from t1;
count(*)
8388608
select count(*) from t1;
count(*)
8388608
select count(*) from t1;
count(*)
8388608
select count(*) from t1;
count(*)
8388608
select count(*) from t1;
count(*)
8388608
select count(*) from t1;
count(*)
8388608
select count(*) from t2;
count(*)
8388608
select count(*) from t2;
count(*)
8388608
select count(*) from t2;
count(*)
8388608
select count(*) from t2;
count(*)
8388608
select count(*) from t2;
count(*)
8388608
select count(*) from t2;
count(*)
8388608
select count(*) from t2;
count(*)
8388608
select count(*) from t2;
count(*)
8388608
select count(*) from t2;
count(*)
8388608
select count(*) from t2;
count(*)
8388608
1
select count(*) from t3;
count(*)
8388608
select count(*) from t3;
count(*)
8388608
select count(*) from t3;
count(*)
8388608
select count(*) from t3;
count(*)
8388608
select count(*) from t3;
count(*)
8388608
select count(*) from t3;
count(*)
8388608
select count(*) from t3;
count(*)
8388608
select count(*) from t3;
count(*)
8388608
select count(*) from t3;
count(*)
8388608
select count(*) from t3;
count(*)
8388608
1
select count(*) from t1 where num>7000000;
count(*)
1847274
select count(*) from t1 where num>7000000;
count(*)
1847274
select count(*) from t1 where num>7000000;
count(*)
1847274
select count(*) from t1 where num>7000000;
count(*)
1847274
select count(*) from t1 where num>7000000;
count(*)
1847274
select count(*) from t1 where num>7000000;
count(*)
1847274
select count(*) from t1 where num>7000000;
count(*)
1847274
select count(*) from t1 where num>7000000;
count(*)
1847274
select count(*) from t1 where num>7000000;
count(*)
1847274
select count(*) from t1 where num>7000000;
count(*)
1847274
select count(*) from t2 where num>7000000;
count(*)
1847274
select count(*) from t2 where num>7000000;
count(*)
1847274
select count(*) from t2 where num>7000000;
count(*)
1847274
select count(*) from t2 where num>7000000;
count(*)
1847274
select count(*) from t2 where num>7000000;
count(*)
1847274
select count(*) from t2 where num>7000000;
count(*)
1847274
select count(*) from t2 where num>7000000;
count(*)
1847274
select count(*) from t2 where num>7000000;
count(*)
1847274
select count(*) from t2 where num>7000000;
count(*)
1847274
select count(*) from t2 where num>7000000;
count(*)
1847274
1
select count(*) from t3 where num>7000000;
count(*)
1847274
select count(*) from t3 where num>7000000;
count(*)
1847274
select count(*) from t3 where num>7000000;
count(*)
1847274
select count(*) from t3 where num>7000000;
count(*)
1847274
select count(*) from t3 where num>7000000;
count(*)
1847274
select count(*) from t3 where num>7000000;
count(*)
1847274
select count(*) from t3 where num>7000000;
count(*)
1847274
select count(*) from t3 where num>7000000;
count(*)
1847274
select count(*) from t3 where num>7000000;
count(*)
1847274
select count(*) from t3 where num>7000000;
count(*)
1847274
1
drop table if exists t,t1,t2,t3;
